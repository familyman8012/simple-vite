# Vite + React í•™ìŠµ ê°€ì´ë“œ

## 1. Vite ì†Œê°œ

- Viteë€?
- Vite vs ë‹¤ë¥¸ ë²ˆë“¤ëŸ¬(webpack, parcel ë“±)
- Viteì˜ ì£¼ìš” íŠ¹ì§•ê³¼ ì¥ì 

## 2. í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°

### ê°œë°œ í™˜ê²½ ì„¤ì •

- Node.js 16.0 ì´ìƒ ì„¤ì¹˜ í•„ìš”
- npm ë˜ëŠ” yarn íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì¹˜
- ì½”ë“œ ì—ë””í„° (VS Code ê¶Œì¥)
  - VS Code ì¶”ì²œ í™•ì¥ í”„ë¡œê·¸ë¨:
    - ESLint
    - Prettier
    - Vite
    - React Developer Tools

### í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°

- ê°œë°œ í™˜ê²½ ì„¤ì •
- í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°
- í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´í•˜ê¸°
- ê¸°ë³¸ ëª…ë ¹ì–´ (dev, build, preview)

## 3. Vite ì„¤ì •

- vite.config.js ì„¤ì • ë°©ë²•
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env)
- ê²½ë¡œ ë³„ì¹­ ì„¤ì • (aliases)
- ê°œë°œ ì„œë²„ ì»¤ìŠ¤í„°ë§ˆì´ì§•

## 4. Reactì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°

- React ì»´í¬ë„ŒíŠ¸ ì‘ì„±
- JSX ì‚¬ìš©ë²•
- ìƒíƒœ ê´€ë¦¬
- ë¼ìš°íŒ… ì„¤ì •

## 5. ìŠ¤íƒ€ì¼ë§

- CSS ëª¨ë“ˆ ì‚¬ìš©
- Sass/Less ì„¤ì •
- PostCSS ì„¤ì •
- CSS-in-JS ì‚¬ìš©í•˜ê¸°

## 6. ìµœì í™”

- ì½”ë“œ ë¶„í•  (Code Splitting)
- ì •ì  ìì‚° ì²˜ë¦¬
- ë¹Œë“œ ìµœì í™”
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

## 7. ë°°í¬

- í”„ë¡œë•ì…˜ ë¹Œë“œ
- ì •ì  í˜¸ìŠ¤íŒ… ì„¤ì •
- CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±
- ë°°í¬ ì „ëµ

## 8. ê°œë°œ ë„êµ¬ì™€ ë””ë²„ê¹…

- ê°œë°œì ë„êµ¬ í™œìš©
- HMR (Hot Module Replacement)
- ë””ë²„ê¹… í…Œí¬ë‹‰
- ì—ëŸ¬ ì²˜ë¦¬

## 9. í…ŒìŠ¤íŠ¸

- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì„¤ì •
- í†µí•© í…ŒìŠ¤íŠ¸
- E2E í…ŒìŠ¤íŠ¸
- í…ŒìŠ¤íŠ¸ ìë™í™”

## 10. ê³ ê¸‰ ì£¼ì œ

- TypeScript í†µí•©
- SSR (Server-Side Rendering)
- PWA ì„¤ì •
- ë§ˆì´í¬ë¡œí”„ë¡ íŠ¸ì—”ë“œ

## 11. ì‹¤ì „ ì˜ˆì œ

- Todo ì•± ë§Œë“¤ê¸°
- API ì—°ë™í•˜ê¸°
- ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
- ì¸ì¦ êµ¬í˜„

## 12. ë¬¸ì œ í•´ê²°ê³¼ íŒ

- ì¼ë°˜ì ì¸ ì˜¤ë¥˜ì™€ í•´ê²°ë°©ë²•
- ì„±ëŠ¥ ìµœì í™” íŒ
- ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
- ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

## í”„ë¡œë•ì…˜ ìµœì í™” ê°€ì´ë“œ

### 1. í•„ìˆ˜ ìµœì í™” í”ŒëŸ¬ê·¸ì¸

í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê³ ë ¤í•´ì•¼ í•  ì£¼ìš” ìµœì í™” í”ŒëŸ¬ê·¸ì¸ë“¤:

```bash
# ì´ë¯¸ì§€ ìµœì í™”
yarn add -D vite-plugin-imagemin

# PWA ì§€ì›
yarn add -D vite-plugin-pwa

# ë ˆê±°ì‹œ ë¸Œë¼ìš°ì € ì§€ì› (í•„ìš”í•œ ê²½ìš°)
yarn add -D @vitejs/plugin-legacy
```

### 2. ê¶Œì¥ ì„¤ì • ì˜ˆì‹œ

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import imagemin from 'vite-plugin-imagemin';
import { VitePWA } from 'vite-plugin-pwa';
import legacy from '@vitejs/plugin-legacy';

export default defineConfig({
  plugins: [
    // ì´ë¯¸ì§€ ìµœì í™” (ëŒ€ìš©ëŸ‰ ì´ë¯¸ì§€ê°€ ë§ì€ ê²½ìš° í•„ìˆ˜)
    imagemin({
      // JPEG ìµœì í™”
      mozjpeg: {
        quality: 75,        // ì ì ˆí•œ í’ˆì§ˆ
        progressive: true   // í”„ë¡œê·¸ë ˆì‹œë¸Œ ë¡œë”©
      },
      // PNG ìµœì í™”
      optipng: {
        optimizationLevel: 5
      },
      // SVG ìµœì í™”
      svgo: {
        plugins: [
          {
            name: 'removeViewBox',
            active: false   // viewBox ìœ ì§€ (ë°˜ì‘í˜•)
          }
        ]
      },
      // WebP ìƒì„± (ì„ íƒì‚¬í•­)
      webp: {
        quality: 75
      }
    }),

    // PWA ì§€ì› (ì„ íƒì‚¬í•­ì´ë‚˜ ê¶Œì¥)
    VitePWA({
      registerType: 'autoUpdate',
      workbox: {
        cleanupOutdatedCaches: true,
        globPatterns: ['**/*.{js,css,html,ico,png,svg,webp}']
      }
    }),

    // ë ˆê±°ì‹œ ë¸Œë¼ìš°ì € ì§€ì› (í•„ìš”í•œ ê²½ìš°ë§Œ)
    legacy({
      targets: ['defaults', 'not IE 11']
    })
  ],

  build: {
    // ì²­í¬ í¬ê¸° ê²½ê³  ì„ê³„ê°’ ì¡°ì •
    chunkSizeWarningLimit: 1000,
    
    rollupOptions: {
      output: {
        // ë²¤ë” ì²­í¬ ë¶„ë¦¬ (íš¨ìœ¨ì ì¸ ìºì‹±)
        manualChunks: (id) => {
          if (id.includes('node_modules')) {
            if (id.includes('react')) return 'react-vendor';
            if (id.includes('@mui') || id.includes('@emotion')) return 'ui-vendor';
            return 'vendor';
          }
        }
      }
    }
  }
});
```

### 3. ì„±ëŠ¥ ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

1. **ì´ë¯¸ì§€ ìµœì í™”**
   - í° ì´ë¯¸ì§€ëŠ” `vite-plugin-imagemin`ìœ¼ë¡œ ìµœì í™”
   - WebP í¬ë§· ì‚¬ìš© ê³ ë ¤
   - ì´ë¯¸ì§€ lazy ë¡œë”© êµ¬í˜„

2. **ì½”ë“œ ë¶„í• **
   - ë¼ìš°íŠ¸ ê¸°ë°˜ ì½”ë“œ ë¶„í•  êµ¬í˜„
   - í° ì»´í¬ë„ŒíŠ¸/ë¼ì´ë¸ŒëŸ¬ë¦¬ lazy ë¡œë”©
   - ì ì ˆí•œ ì²­í¬ ì‚¬ì´ì¦ˆ ìœ ì§€

3. **ìºì‹± ì „ëµ**
   - ì •ì  ìì‚°ì— ëŒ€í•œ ì¥ê¸° ìºì‹± ì„¤ì •
   - ë²¤ë” ë²ˆë“¤ ë¶„ë¦¬ë¡œ íš¨ìœ¨ì ì¸ ìºì‹±
   - Service Worker êµ¬í˜„ (PWA)

4. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
   - Lighthouse ì ìˆ˜ ëª¨ë‹ˆí„°ë§
   - Core Web Vitals ì¶”ì 
   - ë²ˆë“¤ í¬ê¸° ë¶„ì„ (rollup-plugin-visualizer ì‚¬ìš©)

### 4. ì£¼ì˜ì‚¬í•­

1. **ì´ë¯¸ì§€ ìµœì í™”**
   - ì´ë¯¸ì§€ê°€ ë§ì§€ ì•Šì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” `vite-plugin-imagemin` ìƒëµ ê°€ëŠ¥
   - ëŒ€ì‹  ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ ì „ì— ìˆ˜ë™ìœ¼ë¡œ ìµœì í™”í•˜ëŠ” ê²ƒì„ ê³ ë ¤

2. **ì½”ë“œ ë¶„í• **
   - ê³¼ë„í•œ ì½”ë“œ ë¶„í• ì€ ì˜¤íˆë ¤ ì„±ëŠ¥ ì €í•˜ ì´ˆë˜
   - ì²­í¬ í¬ê¸°ëŠ” ë³´í†µ 100KB~500KBê°€ ì ì ˆ

3. **í”ŒëŸ¬ê·¸ì¸ ì„ íƒ**
   - í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ë§Œ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©
   - ë¶ˆí•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ì€ ë¹Œë“œ ì‹œê°„ ì¦ê°€ì˜ ì›ì¸

4. **ë¹Œë“œ ì„±ëŠ¥**
   - ë¹Œë“œ ì‹œê°„ê³¼ ê²°ê³¼ë¬¼ í¬ê¸° ì‚¬ì´ì˜ ê· í˜• ìœ ì§€
   - ê°œë°œ í™˜ê²½ê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ì˜ ì„¤ì • ë¶„ë¦¬ ê³ ë ¤

## 1. Vite ì†Œê°œ

### Viteë€?

- í”„ë‘ìŠ¤ì–´ë¡œ 'ë¹ ë¥¸'ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ ìµœì‹  í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ë„êµ¬
- Vue.js ì°½ì‹œì Evan Youê°€ ê°œë°œí•œ ì°¨ì„¸ëŒ€ í”„ë¡ íŠ¸ì—”ë“œ ë„êµ¬
- ES modulesë¥¼ ë„¤ì´í‹°ë¸Œë¡œ í™œìš©í•˜ëŠ” ê°œë°œ ì„œë²„ ì œê³µ
- ë§¤ìš° ë¹ ë¥¸ Hot Module Replacement (HMR) ì§€ì›

### Vite vs ë‹¤ë¥¸ ë²ˆë“¤ëŸ¬

- Webpack

  - ì „í†µì ì¸ ë²ˆë“¤ë§ ë°©ì‹ìœ¼ë¡œ ê°œë°œ ì„œë²„ êµ¬ë™ì´ ëŠë¦¼
  - ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ ê²€ì¦ëœ ì•ˆì •ì„±
  - ë‹¤ì–‘í•œ í”ŒëŸ¬ê·¸ì¸ ìƒíƒœê³„

- Parcel
  - Zero-configuration ë²ˆë“¤ëŸ¬
  - ìƒëŒ€ì ìœ¼ë¡œ ê°„ë‹¨í•œ ì„¤ì •
  - ê°œë°œ ì„œë²„ ì„±ëŠ¥ì´ Viteë³´ë‹¤ ëŠë¦¼

### Viteì˜ ì£¼ìš” íŠ¹ì§•ê³¼ ì¥ì 

- ë¹ ë¥¸ ì„œë²„ ì‹œì‘

  - í•„ìš”í•œ ëª¨ë“ˆë§Œ ë³€í™˜í•˜ëŠ” ì£¼ë¬¸í˜• ë°©ì‹
  - Cold-starting ìµœì†Œí™”

- íš¨ìœ¨ì ì¸ HMR

  - ë„¤ì´í‹°ë¸Œ ESMì„ í†µí•œ ì¦‰ê°ì ì¸ ëª¨ë“ˆ êµì²´
  - ë³€ê²½ëœ ëª¨ë“ˆë§Œ ì •í™•í•˜ê²Œ êµì²´

- ìµœì í™”ëœ ë¹Œë“œ

  - Rollup ê¸°ë°˜ì˜ í”„ë¡œë•ì…˜ ë¹Œë“œ
  - ìë™ ì½”ë“œ ë¶„í• 
  - CSS ì½”ë“œ ë¶„í• 

- í’ë¶€í•œ ê¸°ëŠ¥
  - TypeScript, JSX, CSS ë“± ê¸°ë³¸ ì§€ì›
  - ë‹¤ì–‘í•œ í”„ë ˆì„ì›Œí¬ í…œí”Œë¦¿ ì œê³µ
  - í”ŒëŸ¬ê·¸ì¸ API ì§€ì›

## 2. í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°

### ê°œë°œ í™˜ê²½ ì„¤ì •

#### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 16.0 ì´ìƒ ì„¤ì¹˜ í•„ìš”
- npm ë˜ëŠ” yarn íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì¹˜
- ì½”ë“œ ì—ë””í„° (VS Code ê¶Œì¥)
  - VS Code ì¶”ì²œ í™•ì¥ í”„ë¡œê·¸ë¨:
    - ESLint: ì½”ë“œ í’ˆì§ˆê³¼ ìŠ¤íƒ€ì¼ ê²€ì‚¬
    - Prettier: ì½”ë“œ í¬ë§·íŒ…
    - Vite: Vite í”„ë¡œì íŠ¸ ì§€ì›
    - React Developer Tools: React ê°œë°œ ë„êµ¬

### í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°

#### 1. ê°œë°œ í™˜ê²½ í™•ì¸
```bash
# Node.js ë²„ì „ í™•ì¸
node --version  # 16.0 ì´ìƒì¸ì§€ í™•ì¸

# npm ë˜ëŠ” yarn ì„¤ì¹˜ í™•ì¸
npm --version  # npm í™•ì¸
yarn --version # yarn í™•ì¸
```

#### 2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
npm ì‚¬ìš© ì‹œ:
```bash
npm create vite@latest my-project -- --template react
cd my-project
npm install
```

yarn ì‚¬ìš© ì‹œ:
```bash
yarn create vite my-project --template react
cd my-project
yarn
```

#### 3. í”„ë¡œì íŠ¸ êµ¬ì¡°
```
my-project/
â”œâ”€â”€ node_modules/     # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ëª¨ë“ˆ
â”œâ”€â”€ public/          # ì •ì  íŒŒì¼ ë””ë ‰í† ë¦¬
â”œâ”€â”€ src/             # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ assets/     # ì´ë¯¸ì§€, í°íŠ¸ ë“± ë¦¬ì†ŒìŠ¤
â”‚   â”œâ”€â”€ App.css
â”‚   â”œâ”€â”€ App.jsx     # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ index.css
â”‚   â””â”€â”€ main.jsx    # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”œâ”€â”€ .gitignore      # Git ì œì™¸ íŒŒì¼ ì„¤ì •
â”œâ”€â”€ index.html      # HTML í…œí”Œë¦¿
â”œâ”€â”€ package.json    # í”„ë¡œì íŠ¸ ì„¤ì • ë° ì˜ì¡´ì„±
â”œâ”€â”€ vite.config.js  # Vite ì„¤ì • íŒŒì¼
â””â”€â”€ README.md       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

#### 4. ê¸°ë³¸ ëª…ë ¹ì–´
- ê°œë°œ ì„œë²„ ì‹¤í–‰:
  ```bash
  npm run dev    # ë˜ëŠ” yarn dev
  ```
  - ë¡œì»¬ ê°œë°œ ì„œë²„ê°€ http://localhost:5173 ì—ì„œ ì‹¤í–‰ë¨
  - Hot Module Replacement (HMR) ì§€ì›ìœ¼ë¡œ ì‹¤ì‹œê°„ ì½”ë“œ ë³€ê²½ í™•ì¸ ê°€ëŠ¥

- í”„ë¡œë•ì…˜ ë¹Œë“œ:
  ```bash
  npm run build    # ë˜ëŠ” yarn build
  ```
  - ìµœì í™”ëœ í”„ë¡œë•ì…˜ ë¹Œë“œë¥¼ `dist` ë””ë ‰í† ë¦¬ì— ìƒì„±

- ë¹Œë“œ ê²°ê³¼ë¬¼ ë¯¸ë¦¬ë³´ê¸°:
  ```bash
  npm run preview    # ë˜ëŠ” yarn preview
  ```
  - ë¹Œë“œëœ í”„ë¡œë•ì…˜ ë²„ì „ì„ ë¡œì»¬ì—ì„œ ë¯¸ë¦¬ë³´ê¸°
  - `build` ëª…ë ¹ì–´ ì‹¤í–‰ í›„ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥

## 3. Vite ì„¤ì •

### vite.config.js ì„¤ì • ë°©ë²•

vite.config.jsëŠ” Vite í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ì„¤ì • íŒŒì¼ì…ë‹ˆë‹¤. ì£¼ìš” ì„¤ì • ì˜µì…˜ë“¤ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:

```javascript
import { defineConfig, loadEnv } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig(({ command, mode }) => {
  // í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
  const env = loadEnv(mode, process.cwd(), '')
  
  // ê°œë°œ/í”„ë¡œë•ì…˜ ëª¨ë“œì— ë”°ë¥¸ ì„¤ì • ë¶„ê¸°
  const isProduction = mode === 'production'
  
  return {
    // ê¸°ë³¸ ì„¤ì •
    base: env.VITE_BASE_URL || '/',
    
    // í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
    plugins: [
      // React ì§€ì›
      react({
        // ë¹ ë¥¸ ë¦¬í”„ë ˆì‹œ í™œì„±í™”
        fastRefresh: true,
        // babel ì„¤ì •
        babel: {
          plugins: [
            // React ìë™ ëŸ°íƒ€ì„ ì§€ì›
            ['@babel/plugin-transform-react-jsx', {
              runtime: 'automatic'
            }],
            // Emotion ì§€ì›
            ['@emotion/babel-plugin', {
              // ì†ŒìŠ¤ë§µ ìƒì„± (ê°œë°œí™˜ê²½ì—ì„œë§Œ)
              sourceMap: process.env.NODE_ENV !== 'production',
              // ìë™ ë ˆì´ë¸”ë§
              labelFormat: '[local]',
              // CSS prop ì§€ì›
              cssPropOptimization: true
            }]
          ]
        }
      }),
      
      // SVGë¥¼ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜
      svgr(),
      
      // ë ˆê±°ì‹œ ë¸Œë¼ìš°ì € ì§€ì›
      legacy({
        targets: ['defaults', 'not IE 11'],
        additionalLegacyPolyfills: ['regenerator-runtime/runtime']
      }),
      
      // GZIP ì••ì¶•
      viteCompression({
        verbose: true,
        disable: false,
        threshold: 10240,
        algorithm: 'gzip',
        ext: '.gz'
      }),
      
      // PWA ì§€ì›
      VitePWA({
        registerType: 'autoUpdate',
        includeAssets: ['favicon.ico', 'apple-touch-icon.png', 'masked-icon.svg'],
        manifest: {
          name: 'ë‚´ Vite ì•±',
          short_name: 'Vite ì•±',
          theme_color: '#ffffff',
          icons: [
            {
              src: '/android-chrome-192x192.png',
              sizes: '192x192',
              type: 'image/png'
            },
            {
              src: '/android-chrome-512x512.png',
              sizes: '512x512',
              type: 'image/png'
            }
          ]
        }
      }),
      
      // ë²ˆë“¤ ë¶„ì„ (productionì—ì„œë§Œ)
      mode === 'production' && visualizer({
        open: true,
        gzipSize: true,
        brotliSize: true
      })
    ],
    
    // ë¦¬ì¡¸ë¸Œ ì„¤ì •
    resolve: {
      alias: {
        '@': path.resolve(__dirname, './src'),
        '@components': path.resolve(__dirname, './src/components'),
        '@assets': path.resolve(__dirname, './src/assets')
      }
    },
    
    // ì„œë²„ ì„¤ì •
    server: {
      host: true, // ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ í—ˆìš©
      port: 3000,
      strictPort: false,
      proxy: {
        '/api': {
          target: env.VITE_API_URL,
          changeOrigin: true,
          secure: false,
          rewrite: (path) => path.replace(/^\/api/, '')
        }
      },
      cors: true
    },
    
    // ë¹Œë“œ ì„¤ì •
    build: {
      target: 'es2015',
      outDir: 'dist',
      assetsDir: 'assets',
      cssCodeSplit: true,
      sourcemap: mode !== 'production',
      minify: 'terser',
      terserOptions: {
        compress: {
          drop_console: mode === 'production',
          drop_debugger: mode === 'production'
        }
      },
      rollupOptions: {
        output: {
          manualChunks: (id) => {
            // node_modules ë‚´ì˜ íŒ¨í‚¤ì§€ë“¤ì„ ìë™ìœ¼ë¡œ ì²­í¬ë¡œ ë¶„ë¦¬
            if (id.includes('node_modules')) {
              // react ê´€ë ¨ íŒ¨í‚¤ì§€ë“¤ì„ í•˜ë‚˜ì˜ ì²­í¬ë¡œ
              if (id.includes('react') || id.includes('react-dom') || id.includes('react-router')) {
                return 'react-vendor';
              }
              // MUIì™€ emotion ê´€ë ¨ íŒ¨í‚¤ì§€ë“¤ì„ í•˜ë‚˜ì˜ ì²­í¬ë¡œ
              if (id.includes('@mui') || id.includes('@emotion')) {
                return 'ui-vendor';
              }
              // ê·¸ ì™¸ node_modulesì˜ íŒ¨í‚¤ì§€ë“¤ì€ vendors ì²­í¬ë¡œ
              return 'vendors';
            }
          },
        }
      },
      chunkSizeWarningLimit: 1000
    },
    
    // ì •ì  ìì‚° ì²˜ë¦¬
    publicDir: 'public',    // ì •ì  íŒŒì¼ ë””ë ‰í† ë¦¬ ì„¤ì •
    assetsInclude: ['**/*.woff2', '**/*.woff', '**/*.ttf', '**/*.eot'],  // ì¶”ê°€ ìì‚° í˜•ì‹ í¬í•¨
    
    // CSS ì„¤ì •
    css: {
      modules: {
        localsConvention: 'camelCase',
        generateScopedName: mode === 'production'
          ? '[hash:base64:8]'
          : '[local]_[hash:base64:5]'
      },
      preprocessorOptions: {
        scss: {
          additionalData: `@import "@styles/variables.scss";`
        }
      }
    },
    
    // ìµœì í™” ì„¤ì •
    optimizeDeps: {
      include: ['react', 'react-dom', 'react-router-dom'],
      exclude: ['@vite/client', '@vite/env'],
      force: isProduction,
      esbuildOptions: {
        target: 'es2020',
        supported: { 
          'top-level-await': true 
        },
        plugins: [
          // ì»¤ìŠ¤í…€ ESBuild í”ŒëŸ¬ê·¸ì¸
        ]
      }
    },
    
    // ì—ëŸ¬ í•¸ë“¤ë§
    handleHotUpdate({ file, server }) {
      if (file.endsWith('.less')) {
        server.ws.send({
          type: 'custom',
          event: 'style-update',
          data: { file }
        })
      }
    },
    
    // ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì„¤ì • ì¶”ê°€
    build: {
      reportCompressedSize: true,
      chunkSizeWarningLimit: 1000,
      commonjsOptions: {
        include: [/node_modules/],
        extensions: ['.js', '.cjs'],
        strictRequires: true,
        transformMixedEsModules: true
      }
    },
    
    // ì›Œì»¤ ìŠ¤ë ˆë“œ ì„¤ì •
    worker: {
      format: 'es',
      plugins: [],
      rollupOptions: {
        output: {
          entryFileNames: 'assets/[name].[hash].js'
        }
      }
    },
    
    // ì‹¤í—˜ì  ê¸°ëŠ¥ ì„¤ì •
    experimental: {
      renderBuiltUrl: (filename, { hostType, type, hostId }) => {
        if (type === 'public') {
          return `${env.VITE_CDN_URL}/${filename}`
        }
        return filename
      }
    }
  }
})
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env)

ViteëŠ” ë‹¤ì–‘í•œ í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ì„ ì§€ì›í•©ë‹ˆë‹¤:

```plaintext
# .env
VITE_API_URL=https://api.example.com

# .env.development
VITE_DEV_API_KEY=dev_key123

# .env.production
VITE_PROD_API_KEY=prod_key456
```

í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ì˜ˆì‹œ:
```javascript
console.log(import.meta.env.VITE_API_URL)
```

ì£¼ì˜ì‚¬í•­:
- í™˜ê²½ ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ `VITE_` ì ‘ë‘ì‚¬ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤
- `.env.local`ì€ Gitì— ì»¤ë°‹ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¡œì»¬ ê°œë°œìš©ìœ¼ë¡œ ì í•©í•©ë‹ˆë‹¤

### ê²½ë¡œ ë³„ì¹­ ì„¤ì • (aliases)

í”„ë¡œì íŠ¸ì˜ import ê²½ë¡œë¥¼ ë” ê¹”ë”í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
// vite.config.js
export default defineConfig({
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
      '@assets': path.resolve(__dirname, './src/assets')
    }
  }
})
```

ì‚¬ìš© ì˜ˆì‹œ:
```javascript
import Button from '@components/Button'
import logo from '@assets/logo.svg'
```

### ê°œë°œ ì„œë²„ ì»¤ìŠ¤í„°ë§ˆì´ì§•

ê°œë°œ ì„œë²„ì˜ ë‹¤ì–‘í•œ ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
export default defineConfig({
  server: {
    // í¬íŠ¸ ì„¤ì •
    port: 3000,
    
    // ìë™ìœ¼ë¡œ ë¸Œë¼ìš°ì € ì—´ê¸°
    open: true,
    
    // CORS ì„¤ì •
    cors: true,
    
    // HTTPS ì„¤ì •
    https: {
      key: fs.readFileSync('key.pem'),
      cert: fs.readFileSync('cert.pem')
    },
    
    // ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
    middleware: [
      // ì»¤ìŠ¤í…€ ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€
    ]
  }
})
```

ì£¼ìš” ê¸°ëŠ¥:
- í”„ë¡ì‹œ ì„¤ì •ìœ¼ë¡œ API ìš”ì²­ ì²˜ë¦¬
- HTTPS ê°œë°œ í™˜ê²½ êµ¬ì„±
- ì»¤ìŠ¤í…€ ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€
- CORS ì •ì±… ì„¤ì •
- ìë™ í¬íŠ¸ í• ë‹¹

## í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ Vite ì„¤ì • ì˜ˆì‹œ

ì•„ë˜ëŠ” ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í¬ê´„ì ì¸ `vite.config.js` ì„¤ì • ì˜ˆì‹œì…ë‹ˆë‹¤:

```javascript
import { defineConfig, loadEnv } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'
import viteCompression from 'vite-plugin-compression'
import { visualizer } from 'rollup-plugin-visualizer'
import legacy from '@vitejs/plugin-legacy'
import svgr from 'vite-plugin-svgr'
import { VitePWA } from 'vite-plugin-pwa'

// https://vitejs.dev/config/
export default defineConfig(({ command, mode }) => {
  // í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
  const env = loadEnv(mode, process.cwd(), '')
  
  return {
    // ê¸°ë³¸ ì„¤ì •
    base: env.VITE_BASE_URL || '/',
    
    // í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
    plugins: [
      // React ì§€ì›
      react({
        // ë¹ ë¥¸ ë¦¬í”„ë ˆì‹œ í™œì„±í™”
        fastRefresh: true,
        // babel ì„¤ì •
        babel: {
          plugins: [
            // React ìë™ ëŸ°íƒ€ì„ ì§€ì›
            ['@babel/plugin-transform-react-jsx', {
              runtime: 'automatic'
            }],
            // Emotion ì§€ì›
            ['@emotion/babel-plugin', {
              // ì†ŒìŠ¤ë§µ ìƒì„± (ê°œë°œí™˜ê²½ì—ì„œë§Œ)
              sourceMap: process.env.NODE_ENV !== 'production',
              // ìë™ ë ˆì´ë¸”ë§
              labelFormat: '[local]',
              // CSS prop ì§€ì›
              cssPropOptimization: true
            }]
          ]
        }
      }),
      
      // SVGë¥¼ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜
      svgr(),
      
      // ë ˆê±°ì‹œ ë¸Œë¼ìš°ì € ì§€ì›
      legacy({
        targets: ['defaults', 'not IE 11'],
        additionalLegacyPolyfills: ['regenerator-runtime/runtime']
      }),
      
      // GZIP ì••ì¶•
      viteCompression({
        verbose: true,
        disable: false,
        threshold: 10240,
        algorithm: 'gzip',
        ext: '.gz'
      }),
      
      // PWA ì§€ì›
      VitePWA({
        registerType: 'autoUpdate',
        includeAssets: ['favicon.ico', 'apple-touch-icon.png', 'masked-icon.svg'],
        manifest: {
          name: 'ë‚´ Vite ì•±',
          short_name: 'Vite ì•±',
          theme_color: '#ffffff',
          icons: [
            {
              src: '/android-chrome-192x192.png',
              sizes: '192x192',
              type: 'image/png'
            },
            {
              src: '/android-chrome-512x512.png',
              sizes: '512x512',
              type: 'image/png'
            }
          ]
        }
      }),
      
      // ë²ˆë“¤ ë¶„ì„ (productionì—ì„œë§Œ)
      mode === 'production' && visualizer({
        open: true,
        gzipSize: true,
        brotliSize: true
      })
    ],
    
    // ë¦¬ì¡¸ë¸Œ ì„¤ì •
    resolve: {
      alias: {
        '@': path.resolve(__dirname, './src'),
        '@components': path.resolve(__dirname, './src/components'),
        '@pages': path.resolve(__dirname, './src/pages'),
        '@assets': path.resolve(__dirname, './src/assets'),
        '@hooks': path.resolve(__dirname, './src/hooks'),
        '@utils': path.resolve(__dirname, './src/utils'),
        '@services': path.resolve(__dirname, './src/services'),
        '@types': path.resolve(__dirname, './src/types'),
        '@styles': path.resolve(__dirname, './src/styles')
      }
    },
    
    // ì„œë²„ ì„¤ì •
    server: {
      host: true, // ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ í—ˆìš©
      port: 3000,
      strictPort: true,
      proxy: {
        '/api': {
          target: env.VITE_API_URL,
          changeOrigin: true,
          secure: false,
          rewrite: (path) => path.replace(/^\/api/, '')
        }
      },
      cors: true
    },
    
    // ë¹Œë“œ ì„¤ì •
    build: {
      target: 'es2015',
      outDir: 'dist',
      assetsDir: 'assets',
      cssCodeSplit: true,
      sourcemap: mode !== 'production',
      minify: 'terser',
      terserOptions: {
        compress: {
          drop_console: mode === 'production',
          drop_debugger: mode === 'production'
        }
      },
      rollupOptions: {
        output: {
          manualChunks: (id) => {
            // node_modules ë‚´ì˜ íŒ¨í‚¤ì§€ë“¤ì„ ìë™ìœ¼ë¡œ ì²­í¬ë¡œ ë¶„ë¦¬
            if (id.includes('node_modules')) {
              // react ê´€ë ¨ íŒ¨í‚¤ì§€ë“¤ì„ í•˜ë‚˜ì˜ ì²­í¬ë¡œ
              if (id.includes('react') || id.includes('react-dom') || id.includes('react-router')) {
                return 'react-vendor';
              }
              // MUIì™€ emotion ê´€ë ¨ íŒ¨í‚¤ì§€ë“¤ì„ í•˜ë‚˜ì˜ ì²­í¬ë¡œ
              if (id.includes('@mui') || id.includes('@emotion')) {
                return 'ui-vendor';
              }
              // ê·¸ ì™¸ node_modulesì˜ íŒ¨í‚¤ì§€ë“¤ì€ vendors ì²­í¬ë¡œ
              return 'vendors';
            }
          },
        }
      },
      chunkSizeWarningLimit: 1000
    },
    
    // ì •ì  ìì‚° ì²˜ë¦¬
    publicDir: 'public',    // ì •ì  íŒŒì¼ ë””ë ‰í† ë¦¬ ì„¤ì •
    assetsInclude: ['**/*.woff2', '**/*.woff', '**/*.ttf', '**/*.eot'],  // ì¶”ê°€ ìì‚° í˜•ì‹ í¬í•¨
    
    // CSS ì„¤ì •
    css: {
      modules: {
        localsConvention: 'camelCase',
        generateScopedName: mode === 'production'
          ? '[hash:base64:8]'
          : '[local]_[hash:base64:5]'
      },
      preprocessorOptions: {
        scss: {
          additionalData: `@import "@styles/variables.scss";`
        }
      }
    },
    
    // ìµœì í™” ì„¤ì •
    optimizeDeps: {
      include: ['react', 'react-dom', 'react-router-dom'],
      exclude: ['@vite/client', '@vite/env'],
      force: isProduction,
      esbuildOptions: {
        target: 'es2020',
        supported: { 
          'top-level-await': true 
        },
        plugins: [
          // ì»¤ìŠ¤í…€ ESBuild í”ŒëŸ¬ê·¸ì¸
        ]
      }
    },
    
    // ì—ëŸ¬ í•¸ë“¤ë§
    handleHotUpdate({ file, server }) {
      if (file.endsWith('.less')) {
        server.ws.send({
          type: 'custom',
          event: 'style-update',
          data: { file }
        })
      }
    },
    
    // ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì„¤ì • ì¶”ê°€
    build: {
      reportCompressedSize: true,
      chunkSizeWarningLimit: 1000,
      commonjsOptions: {
        include: [/node_modules/],
        extensions: ['.js', '.cjs'],
        strictRequires: true,
        transformMixedEsModules: true
      }
    },
    
    // ì›Œì»¤ ìŠ¤ë ˆë“œ ì„¤ì •
    worker: {
      format: 'es',
      plugins: [],
      rollupOptions: {
        output: {
          entryFileNames: 'assets/[name].[hash].js'
        }
      }
    },
    
    // ì‹¤í—˜ì  ê¸°ëŠ¥ ì„¤ì •
    experimental: {
      renderBuiltUrl: (filename, { hostType, type, hostId }) => {
        if (type === 'public') {
          return `${env.VITE_CDN_URL}/${filename}`
        }
        return filename
      }
    }
  }
})
```

ì´ ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ì€ ê³ ê¸‰ ê¸°ëŠ¥ë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤:

- ğŸ”’ í™˜ê²½ ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •
- ğŸ” ì†ŒìŠ¤ë§µ ìƒì„± (ê°œë°œ í™˜ê²½ì—ì„œë§Œ)
- ğŸ“¦ ì²­í¬ ë¶„í•  ìµœì í™”
- ğŸ—œï¸ GZIP ì••ì¶•
- ğŸ“± PWA ì§€ì›
- ğŸ·ï¸ TypeScript ì§€ì›
- ğŸ¯ ë ˆê±°ì‹œ ë¸Œë¼ìš°ì € ì§€ì›
- ğŸ“Š ë²ˆë“¤ ë¶„ì„
- ğŸ¨ SCSS ì „ì²˜ë¦¬ê¸° ì„¤ì •
- ğŸ”„ í”„ë¡ì‹œ ì„¤ì •
- ğŸš€ ì„±ëŠ¥ ìµœì í™”

ì´ ì„¤ì •ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒ ì˜ì¡´ì„±ë“¤ì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
npm install -D vite-plugin-compression rollup-plugin-visualizer @vitejs/plugin-legacy vite-plugin-svgr vite-plugin-pwa @babel/plugin-proposal-decorators @babel/plugin-proposal-class-properties
